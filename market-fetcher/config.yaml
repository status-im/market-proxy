tokens_file: "coingecko_api_tokens.json"

# Cache configuration
cache:
  go_cache:
    default_expiration: 5m    # 5 minutes
    cleanup_interval: 10m     # 10 minutes

coingecko_leaderboard:
  top_markets_update_interval: 30m
  top_markets_limit: 5000
  currency: usd                 # currency for market data
  top_prices_update_interval: 30s # 30 seconds interval for price updates
  top_prices_limit: 500         # maximum number of top tokens to track prices

coingecko_markets:
  request_delay: 1s           # delay between requests
  ttl: 35m                    # default TTL
  market_params_normalize:    # override user parameters to normalize cache keys
    vs_currency: "usd"        # always use USD regardless of user request
    order: "market_cap_desc"  # always order by market cap
    per_page: 250             # always use max per page
    sparkline: false          # never include sparkline data
    price_change_percentage: "1h,24h"  # always include 1h and 24h price changes
    category: ""              # never filter by category
  
  # Tier-based configuration for different token ranges
  tiers:
    - name: "top-500"           # High-frequency tier for top tokens
      page_from: 1              # Top 500 tokens (first two pages with per_page: 250)
      page_to: 2
      update_interval: 30s      # Update every 30 seconds

    - name: "top-501-10000"     # Medium-frequency tier for mid-range tokens
      page_from: 3              # from 501-10000
      page_to: 40
      update_interval: 30m      # Update every 30 minutes
      fetch_coinslist_ids: true # fetch missing tokens from coinslist list filtered by platforms

coingecko_prices:
  chunk_size: 500             # number of tokens to fetch in one request
  request_delay: 1s           # 2 seconds delay between requests
  ttl: 10m                    # time to live for cached price data
  currencies:                 # default currencies to fetch
    - usd
    - eur
    - btc
    - eth
  
  # Tier-based configuration for different token ranges
  tiers:
    - name: "top-1000"          # High-frequency tier for top tokens
      token_from: 1             # Top 1000 tokens
      token_to: 1000
      update_interval: 30s      # Update every 30 seconds

    - name: "top-1001-10000"    # Medium-frequency tier for mid-range tokens
      token_from: 1001          # from 1001-10000
      token_to: 10000
      update_interval: 5m       # Update every 5 minutes
      fetch_coinslist_ids: true # fetch missing tokens from coinslist list filtered by platforms

coingecko_market_chart:
  hourly_ttl: 30m             # TTL for hourly data (requests with days <= daily_data_threshold)
  daily_ttl: 12h              # TTL for daily data (requests with days > daily_data_threshold)  
  daily_data_threshold: 90    # threshold in days: <= 90 days = hourly data, > 90 days = daily data
  try_free_api_first: true    # try free API (no key) first when no interval is specified

coingecko_coinslist:
  update_interval: 30m        # 30 minutes
  supported_platforms:
    - ethereum
    - optimistic-ethereum  # Optimism
    - arbitrum-one         # Arbitrum
    - base
    - status
    - linea
    - blast
    - zksync
    - mantle
    - abstract
    - unichain
    - binance-smart-chain  # BSC
    - polygon-pos          # Polygon
