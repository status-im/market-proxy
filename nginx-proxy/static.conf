# Static files endpoint - no authentication required
location /static/ {
    alias /usr/share/nginx/static/;
    try_files $uri $uri/ =404;
    
    # Enable ETag for better caching
    etag on;
    
    # Add headers for better caching
    expires 1d;
    add_header Cache-Control "public, immutable";
    
    # Add Last-Modified header
    add_header Last-Modified $date_gmt always;
    
    # Security headers
    add_header X-Content-Type-Options nosniff;
    add_header X-Frame-Options DENY;
    add_header X-XSS-Protection "1; mode=block";
    
    # CORS headers for public access
    add_header Access-Control-Allow-Origin "*" always;
    add_header Access-Control-Allow-Methods "GET, HEAD, OPTIONS" always;
    add_header Access-Control-Allow-Headers "Origin, X-Requested-With, Content-Type, Accept" always;
    
    # Handle preflight requests
    if ($request_method = 'OPTIONS') {
        return 204;
    }
} 